import{c as x,j as e,L as u,r as c}from"./index-B5MilzMy.js";import{a as y,c as b,C as v,d as C,e as N,f as w,b as k,A as S}from"./utils-DmVuFTDS.js";import{U as L}from"./layout-9Kr5bq52.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=x("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=x("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=x("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),p=({post:t})=>{const i=y(t);return e.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.jsx(u,{to:"/post/$slug",params:{slug:t.slug},children:e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium text-white rounded-full ${b(t.subCategoryId)?.color||"bg-gray-500"}`,children:i})}),e.jsx(u,{to:"/post/$slug",params:{slug:t.slug},children:e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 hover:text-green-800 transition-colors duration-200",children:t.title})}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.summary}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{size:16}),e.jsx("span",{children:t.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{size:16}),e.jsxs("span",{children:[t.readTime,"분 읽기"]})]}),e.jsx("span",{children:new Date(t.publishDate).toLocaleDateString("ko-KR")})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(l=>e.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:["#",l]},l))})]})]})},B=({selectedCategoryId:t,selectedSubCategoryId:i,onCategoryChange:l})=>{const[m,d]=c.useState([]),g=s=>{d(r=>r.includes(s)?r.filter(h=>h!==s):[...r,s])},n=s=>m.includes(s);return e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${t==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"전체"}),e.jsx("div",{className:"space-y-2",children:C.map(s=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(s.name),className:"p-1 hover:bg-gray-100 rounded",children:n(s.name)?e.jsx(D,{size:16}):e.jsx($,{size:16})}),e.jsx("button",{onClick:()=>l(s.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${t===s.id&&!i?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.name})]}),n(s.name)&&s.subCategories&&e.jsx("div",{className:"ml-8 flex flex-wrap gap-2",children:s.subCategories.map(r=>e.jsxs("button",{onClick:()=>l(s.id,r.id),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 ${t===s.id&&i===r.id?"bg-green-800 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[s.name,"/",r.name]},r.id))})]},s.id))})]})};function E({canSearch:t,maxPosts:i}){const[l,m]=c.useState("all"),[d,g]=c.useState(),[n,s]=c.useState(""),r=j();function h(a,o){m(a),g(o)}function j(){let a=k;return l!=="all"&&(d?a=N(d):a=w(l)),n&&(a=a.filter(o=>o.title.toLowerCase().includes(n.toLowerCase())||o.summary.toLowerCase().includes(n.toLowerCase())||o.tags.some(f=>f.toLowerCase().includes(n.toLowerCase())))),a}return e.jsxs(e.Fragment,{children:[t&&e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"글 검색...",value:n,onChange:a=>s(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx(B,{selectedCategoryId:l,selectedSubCategoryId:d,onCategoryChange:h}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i?r.slice(0,i).map(a=>e.jsx(p,{post:a},a.id)):r.map(a=>e.jsx(p,{post:a},a.id))}),r.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 text-lg",children:n?"검색 결과가 없습니다.":"해당 카테고리에 글이 없습니다."})}),i&&r.length>i&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs(q,{to:"/posts",className:"inline-flex items-center px-6 py-3 bg-green-800 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:["더 많은 글 보기",e.jsx(S,{className:"ml-2 h-5 w-5"})]})})]})}export{p as B,E as F};
