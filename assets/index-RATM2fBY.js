import{c as m,r as c,j as e}from"./index-DynRNl5a.js";import{L as f}from"./layout-BKrQ4HLD.js";import{c as y,a as C,b as v,d as p}from"./utils-24z0nrzi.js";import{B as g}from"./blog-card-D68AxbkR.js";import{A as N}from"./arrow-right-B8vjx6oV.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=m("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=m("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=m("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=m("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),q=({selectedCategoryId:i,selectedSubCategoryId:l,onCategoryChange:n})=>{const[x,o]=c.useState([]),u=s=>{o(a=>a.includes(s)?a.filter(h=>h!==s):[...a,s])},r=s=>x.includes(s);return e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${i==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"전체"}),e.jsx("div",{className:"space-y-2",children:y.map(s=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(s.name),className:"p-1 hover:bg-gray-100 rounded",children:r(s.name)?e.jsx(w,{size:16}):e.jsx(S,{size:16})}),e.jsx("button",{onClick:()=>n(s.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${i===s.id&&!l?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.name})]}),r(s.name)&&s.subCategories&&e.jsx("div",{className:"ml-8 flex flex-wrap gap-2",children:s.subCategories.map(a=>e.jsxs("button",{onClick:()=>n(s.id,a.id),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 ${i===s.id&&l===a.id?"bg-green-800 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[s.name,"/",a.name]},a.id))})]},s.id))})]})};function I({canSearch:i,maxPosts:l}){const[n,x]=c.useState("all"),[o,u]=c.useState(),[r,s]=c.useState(""),a=j();function h(t,d){x(t),u(d)}function j(){let t=p;return n!=="all"&&(o?t=C(o):t=v(n)),r&&(t=t.filter(d=>d.title.toLowerCase().includes(r.toLowerCase())||d.summary.toLowerCase().includes(r.toLowerCase())||d.tags.some(b=>b.toLowerCase().includes(r.toLowerCase())))),t}return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"글 검색...",value:r,onChange:t=>s(t.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx(q,{selectedCategoryId:n,selectedSubCategoryId:o,onCategoryChange:h}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:l?a.slice(0,l).map(t=>e.jsx(g,{post:t},t.id)):a.map(t=>e.jsx(g,{post:t},t.id))}),a.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 text-lg",children:r?"검색 결과가 없습니다.":"해당 카테고리에 글이 없습니다."})}),l&&a.length>l&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs(k,{to:"/posts",className:"inline-flex items-center px-6 py-3 bg-green-800 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:["더 많은 글 보기",e.jsx(N,{className:"ml-2 h-5 w-5"})]})})]})}const B=()=>e.jsx(f,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"모든 글"}),e.jsxs("p",{className:"text-xl text-gray-600",children:[p.length,"개의 글이 있습니다"]})]}),e.jsx(I,{canSearch:!0})]})}),z=B;export{z as component};
