import{c as x,r,j as e,u as C,L as d,H as k,_ as L}from"./index-DMmh1PtO.js";import{L as g}from"./layout-FSGrrQHy.js";import{h,d as M,e as $,f as D,U as E,C as S}from"./utils-DjkZ4U7Q.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=x("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=x("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=x("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function H({slug:a}){const t=r.useRef(null);return r.useEffect(()=>{const n=t.current;if(!n)return;const l=document.createElement("script");return Object.entries({src:"https://utteranc.es/client.js",repo:"minyoung-yang/blog-comments","issue-term":"pathname",label:"comments",theme:"github-light",crossOrigin:"anonymous",defer:"true"}).forEach(([c,i])=>{l.setAttribute(c,i)}),setTimeout(()=>{n.append(l)},300),()=>{n.innerHTML=""}},[a]),e.jsx("div",{ref:t})}function o(a){return a<10?"0"+a:a.toString()}async function I(a){try{return(await L(()=>import(`../data/posts/${a}/content`),[])).content}catch(t){return console.error(`Failed to load post with id: ${a}`,t),null}}const T=()=>{const{slug:a}=C({from:"/post/$slug"}),[t,n]=r.useState(h(a||"")),[l,u]=r.useState(null),[c,i]=r.useState(!0),j=r.useMemo(()=>{if(!t?.publishDate)return"";const s=new Date(t.publishDate),m=s.getFullYear(),b=o(s.getMonth()+1),N=o(s.getDate()),v=o(s.getHours()),w=o(s.getMinutes());return`${m}. ${b}. ${N}. ${v}:${w}`},[t?.publishDate]);if(r.useEffect(()=>{if(a){const s=h(a);n(s),s&&I(s.id).then(m=>{u(m),i(!1)})}},[a]),!t||!l)return e.jsx(g,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"글을 찾을 수 없습니다"}),e.jsxs(d,{to:"/",className:"inline-flex items-center text-green-800 hover:text-blue-800",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"홈으로 돌아가기"]})]})});const p=M.filter(s=>s.subCategoryId===t.subCategoryId&&s.id!==t.id).slice(0,3),f=$(t);return e.jsxs(g,{children:[e.jsxs(k,{children:[e.jsxs("title",{children:[t.title," | ",t.author]}),e.jsx("meta",{property:"og:title",content:t.title}),e.jsx("meta",{property:"og:description",content:t.summary}),e.jsx("meta",{property:"og:image",content:t.imageUrl}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("article",{className:"max-w-4xl mx-auto",children:[e.jsxs(d,{to:"/posts",className:"inline-flex items-center text-green-800 hover:text-blue-800 mb-8",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"글 목록으로 돌아가기"]}),e.jsxs("header",{className:"mb-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium text-white rounded-full ${D(t.subCategoryId)?.color||"bg-gray-500"}`,children:f})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:18}),e.jsx("span",{children:t.author})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{size:18}),e.jsx("span",{children:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:18}),e.jsxs("span",{children:[t.readTime,"분 읽기"]})]})]})]}),c?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-800"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"글 내용을 불러오는 중..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"prose prose-lg max-w-none mb-12",children:e.jsx("div",{className:"text-gray-700 leading-loose whitespace-pre-line [&>*]:mb-6",children:l})}),e.jsxs("div",{className:"flex items-center gap-2 mb-12 flex-wrap",children:[e.jsx(z,{size:18,className:"text-gray-500"}),t.tags.map(s=>e.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["#",s]},s))]}),e.jsx(H,{slug:a}),p.length>0&&e.jsxs("section",{className:"border-t pt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"관련 글"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:p.map(s=>e.jsxs(d,{to:"/post/$slug",params:{slug:s.slug},className:"group",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-lg mb-3",children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-800 transition-colors duration-200 line-clamp-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.summary})]},s.id))})]})]})]})]})},R=T;export{R as component};
